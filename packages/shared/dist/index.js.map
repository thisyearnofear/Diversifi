{"version":3,"sources":["../src/index.ts","../src/constants/regions.ts","../src/utils/environment.ts","../src/utils/bundle-optimizer.ts"],"sourcesContent":["/**\n * @diversifi/shared\n * \n * Main entry point - re-exports commonly used items\n * For granular imports, use:\n *   - @diversifi/shared/web3 - wallet, swap, blockchain hooks\n *   - @diversifi/shared/ui - components\n *   - @diversifi/shared/constants - lightweight constants\n */\n\n// Re-export from sub-entries for convenience\nexport * from './constants';\nexport * from './utils/environment';\nexport * from './utils/bundle-optimizer';\nexport * from './constants/regions';\n\n// Types\nexport type { Region } from './constants/regions';","/**\n * SINGLE SOURCE OF TRUTH for all region-related constants\n * Consolidates from:\n * - constants/regions.ts (main app)\n * - apps/diversifi/constants/regions.ts (enhanced version)\n * - Multiple inline definitions across components\n */\n\nexport type Region = \"USA\" | \"Europe\" | \"LatAm\" | \"Africa\" | \"Asia\";\n\n// Environment-aware color schemes\nexport const REGION_COLORS = {\n  // Standard colors (main app)\n  standard: {\n    USA: \"#4299E1\",     // blue\n    Europe: \"#48BB78\",  // green\n    LatAm: \"#F6AD55\",   // orange\n    Africa: \"#F56565\",  // red\n    Asia: \"#9F7AEA\",    // purple\n  },\n  // Enhanced colors (MiniPay/Diversifi)\n  enhanced: {\n    USA: \"#3B82F6\",     // Enhanced blue\n    Europe: \"#22C55E\",  // Enhanced green\n    LatAm: \"#F59E0B\",   // Enhanced orange/yellow\n    Africa: \"#EF4444\",  // Enhanced red/terracotta\n    Asia: \"#D946EF\",    // Enhanced purple/pink\n  }\n} as const;\n\n// Helper function to get environment-appropriate colors\nexport function getRegionColors(environment: 'standard' | 'enhanced' = 'standard') {\n  return REGION_COLORS[environment];\n}\n\n// Region background colors (lighter versions) - for enhanced theme\nexport const REGION_BG_COLORS = {\n  USA: \"#DBEAFE\",     // Light blue\n  Europe: \"#DCFCE7\",  // Light green\n  LatAm: \"#FEF3C7\",   // Light yellow\n  Africa: \"#FEE2E2\",  // Light red\n  Asia: \"#F5D0FE\",    // Light purple\n} as const;\n\n// Region dark colors for text and borders - for enhanced theme\nexport const REGION_DARK_COLORS = {\n  USA: \"#1E40AF\",     // Dark blue\n  Europe: \"#15803D\",  // Dark green\n  LatAm: \"#B45309\",   // Dark orange\n  Africa: \"#B91C1C\",  // Dark red\n  Asia: \"#A21CAF\",    // Dark purple\n} as const;\n\n// Region contrast colors for text on colored backgrounds - for enhanced theme\nexport const REGION_CONTRAST_COLORS = {\n  USA: \"#172554\",     // Very dark blue\n  Europe: \"#14532D\",  // Very dark green\n  LatAm: \"#78350F\",   // Very dark orange\n  Africa: \"#7F1D1D\",  // Very dark red\n  Asia: \"#701A75\",    // Very dark purple\n} as const;\n\n// Available tokens - consolidated from both apps\nexport const AVAILABLE_TOKENS = [\n  // Mainnet tokens\n  { symbol: \"CUSD\", name: \"Celo Dollar\", region: \"USA\" as Region },\n  { symbol: \"CEUR\", name: \"Celo Euro\", region: \"Europe\" as Region },\n  { symbol: \"CREAL\", name: \"Celo Brazilian Real\", region: \"LatAm\" as Region },\n  { symbol: \"CKES\", name: \"Celo Kenyan Shilling\", region: \"Africa\" as Region },\n  { symbol: \"CCOP\", name: \"Celo Colombian Peso\", region: \"LatAm\" as Region },\n  { symbol: \"PUSO\", name: \"Philippine Peso\", region: \"Asia\" as Region },\n  { symbol: \"CGHS\", name: \"Celo Ghana Cedi\", region: \"Africa\" as Region },\n  { symbol: \"CXOF\", name: \"CFA Franc\", region: \"Africa\" as Region },\n\n  // Mento v2.0 Alfajores tokens\n  { symbol: \"CPESO\", name: \"Philippine Peso\", region: \"Asia\" as Region },\n  { symbol: \"CGBP\", name: \"British Pound\", region: \"Europe\" as Region },\n  { symbol: \"CZAR\", name: \"South African Rand\", region: \"Africa\" as Region },\n  { symbol: \"CCAD\", name: \"Canadian Dollar\", region: \"USA\" as Region },\n  { symbol: \"CAUD\", name: \"Australian Dollar\", region: \"Asia\" as Region },\n] as const;\n\n// Mock data for region visualization (used as initial state)\nexport function getMockRegionData(environment: 'standard' | 'enhanced' = 'standard') {\n  const colors = getRegionColors(environment);\n  return [\n    { region: \"USA\", value: 25, color: colors.USA },\n    { region: \"Europe\", value: 22, color: colors.Europe },\n    { region: \"LatAm\", value: 18, color: colors.LatAm },\n    { region: \"Africa\", value: 26, color: colors.Africa },\n    { region: \"Asia\", value: 9, color: colors.Asia },\n  ];\n}\n\n// Exchange rates for stablecoins to USD (for fallback calculations)\nexport const EXCHANGE_RATES: Record<string, number> = {\n  // Standard format - updated rates for mainnet tokens\n  CUSD: 1,\n  CEUR: 1.08,\n  CREAL: 0.2,     // 1 BRL = $0.20\n  CKES: 0.0078,   // 1 KES = $0.0078\n  CCOP: 0.00025,  // 1 COP = $0.00025\n  PUSO: 0.0179,   // 1 PHP = $0.0179\n  CGHS: 0.069,    // 1 GHS = $0.069\n  CXOF: 0.0016,   // 1 XOF = $0.0016\n\n  // Mento v2.0 Alfajores tokens\n  CPESO: 0.0179,  // 1 PHP = $0.0179\n  CGBP: 1.27,     // 1 GBP = $1.27\n  CZAR: 0.055,    // 1 ZAR = $0.055\n  CCAD: 0.74,     // 1 CAD = $0.74\n  CAUD: 0.66,     // 1 AUD = $0.66\n\n  // Lowercase versions for compatibility\n  cusd: 1,\n  ceur: 1.08,\n  creal: 0.2,\n  ckes: 0.0078,\n  ccop: 0.00025,\n  puso: 0.0179,\n  cghs: 0.069,\n  cxof: 0.0016,\n  cpeso: 0.0179,\n  cgbp: 1.27,\n  czar: 0.055,\n  ccad: 0.74,\n  caud: 0.66,\n} as const;\n\n// Legacy exports for backward compatibility\nexport { getRegionColors as REGION_COLORS_LEGACY };\nexport const MOCK_REGION_DATA = getMockRegionData('standard');","/**\n * Environment detection utilities\n * Moved from apps/diversifi/utils/environment.ts\n * Now serves as single source of truth for environment detection\n */\n\n/**\n * Checks if the app is running in the MiniPay environment\n * MiniPay injects a special property into the window.ethereum object\n */\nexport function isMiniPayEnvironment(): boolean {\n  // Guard against server-side execution\n  if (typeof window === 'undefined' || typeof navigator === 'undefined') return false;\n\n  try {\n    // Check for MiniPay property with proper guards\n    const hasMiniPayProperty = typeof (window as any).ethereum !== 'undefined' && \n                              (window as any).ethereum && \n                              typeof (window as any).ethereum === 'object' && \n                              'isMiniPay' in (window as any).ethereum && \n                              (window as any).ethereum.isMiniPay === true;\n\n    // Check for MiniPay in user agent (backup method)\n    const userAgent = navigator.userAgent || '';\n    const hasMiniPayUserAgent = userAgent.includes('MiniPay');\n\n    // Check for Opera Mini browser which might host MiniPay\n    const hasOperaMini = userAgent.includes('Opera Mini') || userAgent.includes('OPR');\n\n    // Check for URL parameters (can be used for testing)\n    const urlParams = new URLSearchParams(window.location.search);\n    const hasMiniPayParam = urlParams.get('minipay') === 'true';\n\n    // Check for referrer from MiniPay domains\n    const referrer = typeof document !== 'undefined' ? (document.referrer || '') : '';\n    const hasMiniPayReferrer = referrer.includes('minipay.app') ||\n                               referrer.includes('celo.org') ||\n                               referrer.includes('opera.com');\n\n    // Check if we're in an iframe (MiniPay loads apps in iframes)\n    const isInIframe = window !== window.parent;\n\n    // Log detection results for debugging (only in development)\n    if (process.env.NODE_ENV === 'development') {\n      console.log('MiniPay detection:', {\n        hasMiniPayProperty,\n        hasMiniPayUserAgent,\n        hasMiniPayParam,\n        hasOperaMini,\n        hasMiniPayReferrer,\n        isInIframe,\n        userAgent,\n        referrer\n      });\n    }\n\n    return hasMiniPayProperty || hasMiniPayUserAgent || hasMiniPayParam ||\n           (isInIframe && (hasMiniPayReferrer || hasOperaMini));\n  } catch (error) {\n    console.warn('Error during MiniPay environment detection:', error);\n    return false;\n  }\n}\n\n/**\n * Checks if the app is running in a mobile environment\n * This is a simple check based on screen width and user agent\n */\nexport function isMobileEnvironment(): boolean {\n  if (typeof window === 'undefined' || typeof navigator === 'undefined') return false;\n\n  try {\n    // Check screen width\n    const isMobileWidth = window.innerWidth < 768;\n\n    // Check user agent for mobile devices\n    const isMobileUserAgent = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n      navigator.userAgent\n    );\n\n    return isMobileWidth || isMobileUserAgent;\n  } catch (error) {\n    console.warn('Error during mobile environment detection:', error);\n    return false;\n  }\n}\n\n/**\n * Checks if the app should render the DiversiFi UI\n * This is true if the app is running in MiniPay or on the /diversifi path\n */\nexport function shouldRenderDiversiFiUI(): boolean {\n  if (typeof window === 'undefined') return false;\n\n  try {\n    // Check if in MiniPay\n    const isInMiniPay = isMiniPayEnvironment();\n\n    // Check if on the diversifi path\n    const isOnDiversiFiPath = window.location.pathname.startsWith('/diversifi');\n\n    return isInMiniPay || isOnDiversiFiPath;\n  } catch (error) {\n    console.warn('Error during DiversiFi UI detection:', error);\n    return false;\n  }\n}\n\n/**\n * Get the appropriate environment type for theming and component selection\n */\nexport function getEnvironmentType(): 'standard' | 'enhanced' {\n  return isMiniPayEnvironment() || shouldRenderDiversiFiUI() ? 'enhanced' : 'standard';\n}\n\n/**\n * Environment utilities object for easy access\n */\nexport const AppEnvironment = {\n  isMiniPay: isMiniPayEnvironment,\n  isMobile: isMobileEnvironment,\n  shouldRenderDiversiFi: shouldRenderDiversiFiUI,\n  getType: getEnvironmentType,\n  isMainApp: () => !isMiniPayEnvironment(),\n} as const;","/**\n * Bundle Optimization Utilities\n * Provides utilities for optimizing bundle sizes and load times\n */\n\nimport { AppEnvironment } from './environment';\n\n// Dynamic import with environment awareness\nexport async function importForEnvironment<T>(\n  standardImport: () => Promise<T>,\n  enhancedImport?: () => Promise<T>\n): Promise<T> {\n  const environment = AppEnvironment.getType();\n  \n  if (environment === 'enhanced' && enhancedImport) {\n    return enhancedImport();\n  }\n  \n  return standardImport();\n}\n\nexport type Feature = 'advanced-charts' | 'complex-animations' | 'heavy-calculations' | 'full-wallet-features';\n\n// Conditional feature loading\nexport function shouldLoadFeature(feature: Feature): boolean {\n  const environment = AppEnvironment.getType();\n  \n  // Define feature flags based on environment\n  const featureFlags = {\n    standard: {\n      'advanced-charts': true,\n      'complex-animations': true,\n      'heavy-calculations': true,\n      'full-wallet-features': true,\n    },\n    enhanced: {\n      'advanced-charts': false, // Lighter charts for MiniPay\n      'complex-animations': false, // Simpler animations for performance\n      'heavy-calculations': false, // Simplified calculations\n      'full-wallet-features': false, // Essential wallet features only\n    }\n  };\n  \n  return featureFlags[environment]?.[feature] ?? true;\n}\n\n// Resource preloading utilities\nexport function preloadResource(url: string, type: 'script' | 'style' | 'font' = 'script') {\n  if (typeof document === 'undefined') return;\n  \n  const link = document.createElement('link');\n  link.rel = 'preload';\n  link.href = url;\n  \n  switch (type) {\n    case 'script':\n      link.as = 'script';\n      break;\n    case 'style':\n      link.as = 'style';\n      break;\n    case 'font':\n      link.as = 'font';\n      link.crossOrigin = 'anonymous';\n      break;\n  }\n  \n  document.head.appendChild(link);\n}\n\n// Critical resource detection\nexport function isCriticalResource(resourceName: string): boolean {\n  const environment = AppEnvironment.getType();\n  \n  const criticalResources = {\n    standard: [\n      'wallet-connection',\n      'basic-charts',\n      'core-swap',\n      'authentication'\n    ],\n    enhanced: [\n      'minipay-wallet',\n      'simple-charts',\n      'celo-swap',\n      'auto-connect'\n    ]\n  };\n  \n  return criticalResources[environment].includes(resourceName);\n}\n\n// Bundle splitting recommendations\nexport function getBundleStrategy() {\n  const environment = AppEnvironment.getType();\n  \n  return {\n    environment,\n    strategy: environment === 'enhanced' ? 'minimal' : 'full',\n    chunkSizeLimit: environment === 'enhanced' ? 50000 : 100000, // bytes\n    preloadCritical: true,\n    lazyLoadNonCritical: true,\n    enableTreeShaking: true,\n    minifyForProduction: true\n  };\n}\n\n// Performance monitoring\nexport class PerformanceMonitor {\n  private static instance: PerformanceMonitor;\n  private metrics: Map<string, number> = new Map();\n  \n  static getInstance(): PerformanceMonitor {\n    if (!PerformanceMonitor.instance) {\n      PerformanceMonitor.instance = new PerformanceMonitor();\n    }\n    return PerformanceMonitor.instance;\n  }\n  \n  startTiming(label: string): void {\n    if (typeof performance !== 'undefined') {\n      this.metrics.set(`${label}_start`, performance.now());\n    }\n  }\n  \n  endTiming(label: string): number {\n    if (typeof performance !== 'undefined') {\n      const start = this.metrics.get(`${label}_start`);\n      if (start !== undefined) {\n        const duration = performance.now() - start;\n        this.metrics.set(`${label}_duration`, duration);\n        return duration;\n      }\n    }\n    return 0;\n  }\n  \n  getMetrics(): Record<string, number> {\n    return Object.fromEntries(this.metrics);\n  }\n  \n  logMetrics(): void {\n    const environment = AppEnvironment.getType();\n    console.log(`Performance Metrics (${environment}):`, this.getMetrics());\n  }\n}\n\n// Environment-specific optimization hints\nexport function getOptimizationHints() {\n  const environment = AppEnvironment.getType();\n  \n  return {\n    environment,\n    hints: {\n      prefetchNextPage: environment === 'standard',\n      enableServiceWorker: environment === 'standard',\n      useWebWorkers: environment === 'standard',\n      enableOfflineMode: environment === 'enhanced', // MiniPay might have connectivity issues\n      prioritizeSpeed: environment === 'enhanced',\n      prioritizeFeatures: environment === 'standard'\n    }\n  };\n}"],"mappings":"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","names":[]}